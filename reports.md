# Отчетная система #



Для получения отчетов достаточно любого браузера имеющегося на компьютере. Отчетная система построена на основе вебтехнологий. Для того чтобы открыть главную страницу отчетной системы укажите в браузере ссылку на сервер СУО с указанием необходимого порта для соединения, например так http://192.168.1.1:8088/. Где 192.168.1.1 это адрес сервера, а 8088 это номер порта на котором работает отчетный вэбсервер. Порт, который используется для отчетной системы настраивается в программе администрирования на вкладке "Порты и таймауты". При входе на отчетный сервер вам будет предложено авторизоваться. Если авторизация положительна, то вы получаете доступ к списку отчетов. Отчеты можно получать в различных форматах. например в HTML, RTF, PDF, ODS. На текущий момент в системе присутствует следующий набор отчетов:

  * Отчет по текущему состоянию в разрезе услуг.
  * Отчет по текущему состоянию в разрезе персонала.
  * Статистический отчет в разрезе услуг за период.
  * Статистический отчет в разрезе персонала за период.
  * Отчет по распределению клиентов по виду услуг за период.
  * Распределение нагрузки внутри дня.
  * Распределение нагрузки внутри дня для услуги.
  * Распределение нагрузки внутри дня для пользователя.
  * Распределение среднего времени ожидания внутри дня.
  * Распределение среднего времени ожидания внутри дня для услуги.
  * Распределение среднего времени ожидания внутри дня для пользователя.
  * Статистический отчет по отзывам клиентов за период.
  * Статистический отчет распределения активности клиентов за период.
  * Отчет предварительно зарегистрированных клиентов по услуге на дату.
  * Отчет по авторизованным персонам за период для пользователя.
  * Отчет по авторизованным персонам за период для услуги.
  * Автоматическая рассылка отчета в конце дня

В конце дня, через тридцать минут после прекращения регистрации в  очередях(Таймауты на вкладке 'Сеть и таймауты' в программе администрирования) отсылается письмо с отчетом 'Распределение нагрузки внутри дня'. В этом отчете можно видеть сколько клиентов было обслужено в этот день и на какие часы приходился самый большой наплыв посетителей. Все настройки для автоматической рассылки производятся в файле config\reporter.properties. Для включения рассылки установите параметр mailing=true. Далее укажите параметры вашего SMTP сервера для отправки через него почты. По умолчанию установлены параметры smtp для сервера gmail. Укажите данные вашей почты для использования вашего аккаунта в gmail. При необходимости измените тему рассылки в параметре mail.subject и в параметре mail.content укажите файл с телом письма либо просто строку, которая будет телом письма. Отчет будет отправляться в приложении в формате PDF.

## Разработка собственных отчетов ##

Разработать новый отчет просто. Если захотелось нового отчета, то смотрим в папку docs, там ищем 'QSystem reports programing.doc'. Это руководство системного программиста отчетной системы. Там все написано с объяснениями и примерами. Если вкратце, то потребуется реализовать несколько методов получения данных из БД, скомпоновать отчет в дизайнере отчетов, позаботиться о вводе входных параметров, если они есть, и сделать регистриующий скрипт. На этом все. После выполнения регистрирующего сткрипта, в программе администрирования появится ваш отчет, можно им пользоваться.