# Плагины и расширения #

СУО QSystem может быть расширена по средствам плагинов. Плагины строятся по технологии services. Для знакомых с Java не составит труда разработать свой плагин и подключить его к серверу СУО QSystem. Рассмотрим основные принципы разработки плагинов и их применения.

## Принцип действия ##

Технология создания плагинов основана на services. Т.е. плагин представляет собой jar, в котором реализуются специальные интерфейсы. Эти интерфейсы объявляются внутри сервера QSystem. Плагин реализовывает требуемый интерфейс определенным обзазом, а сервер вызывет эти методы из плагина в определенное время. Проще не придумаешь. Смотришь какие методы из какого интерфейса вызываются при необходимых событиях. Реализовываешь этот интерфейс, подготавливаешь jar и добавляешь его в ClassPath сервера СУО QSystem. При наступлении определенных событий сервер вызывает ваши методы.

События, для которых можно реализовать свой обработчик. Первая группа событий это движение клиента в очереди, т.е. постановка в очередь, удаление из очереди и т.д. Вторая группа это изменение статуса  с амого клиента, т.е. новый, вызванный, подошедший, перенаправленный и т.д.

Все плагины имеют версию и идентификатор. В зависимости от этих параметров плагин может быть не совместим или наоботор совместим с определенными версиями СУО QSystem.

## Подключение ##

Берем jar подключаемого плагина и добавляем его в ClassPath при старте сервера. Это можно сделать следующим образом. В StartServer.bat в ключ -cp добавить jar плагина. Напимер

java -cp dist/QSystem.jar;E:/plugins/ZoneboardPlugin.jar ru.apertum.qsystem.server.QServer
Теперь сервер СУО QSystem увидит ваш плагин и будет вызывать методы вами реализованного интерфейса. Если настройка плагина вынесена в программу администрирования, то при старте StartAdmin так же необходимо добавить jar плагина в ClassPath.

## Использование ##

После подключения плагина возможно может потребоваться его настроить. Для Некоторых плагинов настройка вынесена в программу администрирования, для некоторых нет. Читайте описание работы планина. Если плагин не взаимодействует с какой-нибудь третьей программой, то более ничего делать с ним не требуется. Если же какая-то сторонняя програма все же взаимодействует с плагином, то позаботьтесь что бы эта прогамма была готова для такой работы. К примеру, при использовании плагина для сервера зональных табло, этот самый сервер должен быть запущен и настроен.