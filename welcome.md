# Пункт регистрации #

Запуск осуществляется из командной строки. В качестве параметров передаются сетевые параметры. Для удобства создается командный файл или ярлык, который можно поместить в любое место и запускать двойным щелчком мыши. При использовании инсталляционного пакета можно указать создание такого ярлыка на рабочем столе автоматически. На сенсорном терминале окно выбора услуг разворачивается на весь экран и убирается курсор мыши.

## Услуги и группы услуг. ##
Услуги могут группироваться. Кнопка группы услуг имеет соответствующую картинку. Вложение групп не имеет ограничений. Если клиент откроет группу и уйдёт, не выбрав услугу, система вернет окно выбора услуг в корневое состояние через определенное время. Услуги можно пометить как временно не оказываемые, при выборе такой услуги клиенту выдается сообщение о невозможности оказать данную услугу на данный момент. Услуги и группы можно пометить как невидимые, они не будут видны клиенту для их выбора. Это позволит иметь услуги, доступ к которым можно получить только после перенаправления к ним пользователем системы при оказании клиенту другой услуги.

## Встать в очередь к услуге. ##
Чтобы встать в очередь к услуге достаточно нажать соответствующую кнопку. Если услуга предполагает ознакомление с некой информацией, то будет показана эта информация(можно сразу распечатать). Если в этой очереди уже находятся более трех человек, то система предварительно запросит подтверждение согласия ожидать, указав размер очереди. Далее, если выбранная услуга требует ввести персональные данные(номер паспорта, к примеру), будет предложено ввести необходимую информацию. После этого будет напечатан номерок и предложено его забрать. Если клиент уйдет, не дав ответа на какой-нибудь вопрос, система вернет окно выбора услуг в корневое состояние через определенное время.

## Предварительная запись. ##
В системе имеется возможность предварительной записи. Записаться предварительно можно самостоятельно используя пункт регистрации или с помощью администратора с использованием компоненты администрирования системы.

## Получение сопутствующей информации ##
Функционал пункта регистрации позволяет получить клиенту необходимую ему справочную информацию. Информация может быть получена при постановки в очередь, это настройка услуги. При этом можно распечатать памятку. Основная справочная система предусмотрена специальной кнопкой на пункте регистрации. При необходимости эту кнопку можно скрыть. При необходимости можно напечатать требуемую информацию при чтении справки.

## Оставить отзыв. ##
Функционал пункта регистрации позволяет клиенту оставить отзыв о работе учреждения. Это предусмотрено специальной кнопкой в пункте регистрации. При необходимости эту кнопку можно скрыть.

## Использование в поликлинике. Режим "Электронная регистратура". ##
Пункт регистрации имеет режим предварительной записи на прием к врачу. Режим включается специальным параметром «med» при старте. При этом есть возможность идентифицировать посетителя по его полису ОМС. Посетитель подносит свой полис ОМС к сканеру штрихкода и его номер попадает в поле ввода. Есть возможность ввода номера ОМС в ручную. Медсестра в регистратуре снимает отчет о зарегистрировавшихся на этот день, собирает медицинские карты и относит их соответствующим врачам.

# Настройка пункта регистрации #

Пункт регистрации это комплекс в который входят компоненты:

  * компьютер с сенсорным экраном для выбора услуги
  * принтер для печати талонов на обслуживание
  * в дальнейшем возможно оснащение сканером штрихкодов для определения ранее записавшихся клиентов
  * вандалозащищенный корпус для установки в соответствующем месте
Компьютер соединен с сервером системы по сети и получает все необходимые сетевые параметры из командной строки

java -cp dist/QSystem.jar ru.apertum.qsystem.client.forms.FWelcome -sport 3128 -cport 3129 -s 192.168.0.43

-sport 3128 порт сервера, на этом порту сервер принимает сообщения от ункта регистрации
-cport 3129 порт пункта регистрации для приема команд от сервера для управления доступом к регистрации
-s 192.168.0.43 адрес сервера системы
можно указать еще три необязательных ключа дополнительно, это debug, med и info
debug не развертывает окно регистрации на весь экран и не прячет курсор, при этом в консольном окне видны все логи
med активирует режим регистратуры в медицинском учреждении
info активирует режим инфокиоска

## Парамеры ##

Настройки пункта регистрации хранятся в файле config/welcome.properties. Загружается этот файл пристарте пункта регистрации. Параметры пункта регистрации:

  * point - маркер для отображения кнопок для услуг помеченных так же, услуги с маркером 0 отображаются всегда
  * left\_margin - отступ слева на квитанции
  * top\_margin - отступ сверху на квитанции
  * line\_heigth - ширина строки
  * line\_length - длинна стоки на квитанции
  * scale\_vertical - масштабирование по вертикале
  * scale\_horizontal - масштабирование по горизонтале
  * logo - присутствие логотипа на квитанции (0/1)
  * barcode - присутствие штрихкода на квитанции (0/1)
  * logo\_left - отступ печати логотипа слева
  * logo\_top - отступ печати логотипа сверху
  * delay\_print - задержка заставки при печати в мсек.
  * delay\_back - задержка при выборе услуги до возврата в главное меню и при диалоге согласия встать в очередь в мсек. Если значение менее 1000, то возврат отключается(начиная с версии 1.2.5).
  * ask\_limit - критический размер очереди после которого спрашивать клиентов о готовности встать в очередь
  * logo\_img - графический файл или ресурс с логотипом
  * background\_img - графический файл или ресурс с картинкой для фона на пункте регистрации
  * promo\_text - промотекст, печатающийся мелким шрифтом перед штрихкодом.
  * bottom\_text - произвольный текст, печатающийся в конце квитанции после штрихкода
  * buttons\_COM - название СОМ-порта, при использовании кнопочного пункта регистраци, оставьте пустым
  * buttons\_databits - параметр СОМ-порта, при использовании кнопочного пункта регистрации
  * buttons\_speed - параметр СОМ-порта, при использовании кнопочного пункта регистрации
  * buttons\_parity - параметр СОМ-порта, при использовании кнопочного пункта регистрации
  * buttons\_stopbits - параметр СОМ-порта, при использовании кнопочного пункта регистрации
  * info\_button - кнопка информационной системы на пункте регистрации
  * response\_button - кнопка обратной связи на пункте регистрации
  * advance\_button - кнопка предварительной записи на пункте регистрации
  * numeric\_keyboard - наличие цифровой клавиатуры при вводе пользователем своих данных
  * alphabetic\_keyboard - наличие буквенной клавиатуры при вводе пользователем своих данных
  * input\_font\_size  - размер шрифта вводимого текста  при вводе пользователем своих данных
  * lines\_button\_count - ограничение количества рядов кнопок на киоске при трех столбцах. Если будет привышение, то начнётся листание страниц.
  * button\_type - вид кнопки. 0 - стандартный вид. 1..12 - предустановленные варианты видов. Либо полный путь картинки для кнопки, желательно png для прозрачности.
  * button\_img - это присутствие пиктограммы услуги или группы на кнопке
  * top\_size - это ширина верхней панели на пункте регистрации с видом кнопок
  * top\_img - это картинка на верхней панели на пункте регистрации с видом кнопок
  * top\_img\_secondary - это картинка на верхней панели на пункте регистрации  на вторичных диалогах
В качестве логотипа на талоне по умолчанию можно использовать изображение из ресурсов /ru/apertum/qsystem/client/forms/resources/logo\_ticket\_a.png. Штрихкод содержит идентификатор клиента, который в последствии будет ID в СУБД.